define("discourse/plugins/discourse-reactions/discourse/adapters/discourse-reactions-adapter",["exports","discourse/adapters/rest"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=t.default.extend({basePath:()=>"/discourse-reactions/"})
e.default=s})),define("discourse/plugins/discourse-reactions/discourse/adapters/discourse-reactions-custom-reaction",["exports","discourse/plugins/discourse-reactions/discourse/adapters/discourse-reactions-adapter"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=t.default.extend({pathFor(e,t,s){const i=this.basePath(e,t,s)+e.pluralize(this.apiNameFor(t))
return this.appendQueryParams(i,s)},apiNameFor:()=>"custom-reaction"})
e.default=s})),define("discourse/plugins/discourse-reactions/discourse/components/discourse-reactions-reaction-post",["exports","@ember/component","discourse-common/utils/decorators","discourse-common/lib/get-url","discourse/lib/computed","discourse/lib/text"],(function(e,t,s,i,o,r){"use strict"
var n,a,c
function u(e,t,s,i,o){var r={}
return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var d=t.default.extend((n=(0,s.default)("reaction.post.url"),a=(0,s.default)("reaction.reaction.reaction_value"),u(c={classNameBindings:[":user-stream-item",":item","moderatorAction"],postUrl:e=>(0,i.default)(e),emojiUrl(e){if(e)return(0,r.emojiUrlFor)(e)},moderatorAction:(0,o.propertyEqual)("reaction.post.post_type","site.post_types.moderator_action")},"postUrl",[n],Object.getOwnPropertyDescriptor(c,"postUrl"),c),u(c,"emojiUrl",[a],Object.getOwnPropertyDescriptor(c,"emojiUrl"),c),c))
e.default=d})),define("discourse/plugins/discourse-reactions/discourse/controllers/user-activity-reactions",["exports","@ember/controller","discourse-common/utils/decorators","@ember/object","discourse/plugins/discourse-reactions/discourse/models/discourse-reactions-custom-reaction"],(function(e,t,s,i,o){"use strict"
var r,n
function a(e,t,s,i,o){var r={}
return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var c=t.default.extend((r=(0,s.observes)("canLoadMore"),a(n={canLoadMore:!0,loading:!1,application:(0,t.inject)(),beforeLikeId:null,beforeReactionUserId:null,_getLastIdFrom:e=>e.length?e[e.length-1].get("id"):null,_updateBeforeIds(e){if(this.includeLikes){const t=this.siteSettings.discourse_reactions_reaction_for_like,[s,i]=e.reduce(((e,s)=>(s.reaction.reaction_value===t?e[0].push(s):e[1].push(s),e)),[[],[]])
this.beforeLikeId=this._getLastIdFrom(s),this.beforeReactionUserId=this._getLastIdFrom(i)}else this.beforeReactionUserId=this._getLastIdFrom(e)},loadMore(){if(!this.canLoadMore||this.loading||!this.reactionsUrl)return
this.set("loading",!0)
const e=this.model
this.beforeReactionUserId||this._updateBeforeIds(e)
const t={actingUsername:this.actingUsername,includeLikes:this.includeLikes,beforeLikeId:this.beforeLikeId,beforeReactionUserId:this.beforeReactionUserId}
o.default.findReactions(this.reactionsUrl,this.username,t).then((t=>{e.addObjects(t),this._updateBeforeIds(t),0===t.length&&this.set("canLoadMore",!1)})).finally((()=>{this.set("loading",!1)}))},_showFooter(){this.set("application.showFooter",!this.canLoadMore)}},"loadMore",[i.action],Object.getOwnPropertyDescriptor(n,"loadMore"),n),a(n,"_showFooter",[r],Object.getOwnPropertyDescriptor(n,"_showFooter"),n),n))
e.default=c})),define("discourse/plugins/discourse-reactions/discourse/discourse-reactions-user-activity-route-map",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={resource:"user.userActivity",map(){this.route("reactions",{path:"reactions"})}}
e.default=t})),define("discourse/plugins/discourse-reactions/discourse/discourse-reactions-user-notifications-route-map",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={resource:"user.userNotifications",map(){this.route("reactionsReceived",{path:"reactions-received"})}}
e.default=t})),define("discourse/plugins/discourse-reactions/discourse/models/discourse-reactions-custom-reaction",["exports","discourse/lib/ajax","discourse/models/rest","discourse/models/topic","discourse/models/user","discourse/models/post","discourse/models/category","@ember/object"],(function(e,t,s,i,o,r,n,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=s.default.extend({init(){this._super(...arguments),this.__type="discourse-reactions-custom-reaction"}})
c.reopenClass({toggle:(e,s)=>(0,t.ajax)("/discourse-reactions/posts/".concat(e.id,"/custom-reactions/").concat(s,"/toggle.json"),{type:"PUT"}).then((t=>{e.appEvents.trigger("discourse-reactions:reaction-toggled",{post:t,reaction:t.current_user_reaction})})),findReactions(e,s,c){const u={username:s}
return(c=c||{}).beforeReactionUserId&&(u.before_reaction_user_id=c.beforeReactionUserId),c.beforeLikeId&&(u.before_like_id=c.beforeLikeId),c.includeLikes&&(u.include_likes=c.includeLikes),c.actingUsername&&(u.acting_username=c.actingUsername),(0,t.ajax)("/discourse-reactions/posts/".concat(e,".json"),{data:u}).then((e=>e.map((e=>(e.user=o.default.create(e.user),e.topic=i.default.create(e.post.topic),e.post_user=o.default.create(e.post.user),e.category=n.default.findById(e.post.category_id),e.post=r.default.create(e.post),a.default.create(e))))))},findReactionUsers(e,s){const i={}
return(s=s||{}).reactionValue&&(i.reaction_value=s.reactionValue),(0,t.ajax)("/discourse-reactions/posts/".concat(e,"/reactions-users.json"),{data:i})}})
var u=c
e.default=u})),define("discourse/plugins/discourse-reactions/discourse/routes/user-activity-reactions",["exports","discourse/routes/discourse","discourse/plugins/discourse-reactions/discourse/models/discourse-reactions-custom-reaction"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend({model(){return s.default.findReactions("reactions",this.modelFor("user").get("username"))},setupController(e,t){let s=t.length<20
this.controllerFor("user-activity-reactions").setProperties({model:t,canLoadMore:!s,reactionsUrl:"reactions",username:this.modelFor("user").get("username")}),this.controllerFor("application").set("showFooter",s)},renderTemplate(){this.render("user-activity-reactions")}})
e.default=i})),define("discourse/plugins/discourse-reactions/discourse/routes/user-notifications-reactions-received",["exports","discourse/routes/discourse","discourse/plugins/discourse-reactions/discourse/models/discourse-reactions-custom-reaction"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend({queryParams:{acting_username:{refreshModel:!0},include_likes:{refreshModel:!0}},model(e){return s.default.findReactions("reactions-received",this.modelFor("user").get("username"),{actingUsername:e.acting_username,includeLikes:e.include_likes})},setupController(e,t){let s=t.length<20
this.controllerFor("user-activity-reactions").setProperties({model:t,canLoadMore:!s,reactionsUrl:"reactions-received",username:this.modelFor("user").get("username"),actingUsername:e.acting_username,includeLikes:e.include_likes}),this.controllerFor("application").set("showFooter",s)},renderTemplate(){this.render("user-activity-reactions")}})
e.default=i})),define("discourse/plugins/discourse-reactions/discourse/templates/components/discourse-reactions-reaction-post",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"9m1Ptgw/",block:'[[[10,0],[14,0,"clearfix info"],[12],[1,"\\n  "],[10,3],[15,6,[33,0,["post_user","userUrl"]]],[15,"data-user-card",[33,0,["post_user","username"]]],[14,0,"avatar-link"],[12],[1,"\\n    "],[1,[28,[35,1],[[33,0,["post_user"]]],[["imageSize","extraClasses","ignoreTitle"],["large","actor","true"]]]],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,1],[14,0,"time"],[12],[1,[28,[35,2],[[33,0,["created_at"]]],[["leaveAgo"],["true"]]]],[13],[1,"\\n\\n  "],[1,[28,[35,3],null,[["item"],[[33,0,["post"]]]]]],[1,"\\n\\n  "],[10,0],[14,0,"stream-topic-details"],[12],[1,"\\n    "],[10,0],[14,0,"stream-topic-title"],[12],[1,"\\n      "],[10,1],[14,0,"title"],[12],[1,"\\n        "],[10,3],[15,6,[36,4]],[12],[1,[28,[35,5],[[33,0,["topic","fancyTitle"]]],null]],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n    "],[10,0],[14,0,"group-post-category"],[12],[1,[28,[35,6],[[33,0,["category"]]],null]],[13],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[10,0],[14,0,"excerpt"],[12],[1,"\\n"],[41,[33,0,["post","expandedExcerpt"]],[[[1,"    "],[1,[28,[35,5],[[33,0,["post","expandedExcerpt"]]],null]],[1,"\\n"]],[]],[[[1,"    "],[1,[28,[35,5],[[33,0,["post","excerpt"]]],null]],[1,"\\n"]],[]]],[13],[1,"\\n\\n"],[41,[33,0,["reaction","reaction_users_count"]],[[[1,"  "],[10,0],[14,0,"discourse-reactions-my-reaction"],[12],[1,"\\n    "],[10,"img"],[15,"src",[36,8]],[14,0,"reaction-emoji"],[12],[13],[1,"\\n    "],[10,3],[15,6,[33,0,["user","userUrl"]]],[15,"data-user-card",[33,0,["user","username"]]],[14,0,"avatar-link"],[12],[1,"\\n      "],[1,[28,[35,1],[[33,0,["user"]]],[["imageSize","extraClasses","ignoreTitle"],["tiny","actor","true"]]]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],[],false,["reaction","avatar","format-date","expand-post","postUrl","html-safe","category-link","if","emojiUrl"]]',moduleName:"discourse/plugins/discourse-reactions/discourse/templates/components/discourse-reactions-reaction-post.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-reactions/discourse/templates/connectors/user-activity-bottom/discourse-reactions-user-activity-reactions",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"RHQ8OcD1",block:'[[[41,[33,1,["discourse_reactions_enabled"]],[[[6,[39,2],null,[["route"],["userActivity.reactions"]],[["default"],[[[[1,"    "],[1,[28,[35,3],["far-smile"],null]],[1,"\\n    "],[10,1],[12],[1,[28,[35,4],["discourse_reactions.reactions_title"],null]],[13],[1,"\\n"]],[]]]]]],[]],null]],[],false,["if","siteSettings","link-to","d-icon","i18n"]]',moduleName:"discourse/plugins/discourse-reactions/discourse/templates/connectors/user-activity-bottom/discourse-reactions-user-activity-reactions.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-reactions/discourse/templates/connectors/user-notifications-bottom/discourse-reactions-user-notification-reactions",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"C/bXSe76",block:'[[[41,[33,1,["discourse_reactions_enabled"]],[[[6,[39,2],null,[["route"],["userNotifications.reactionsReceived"]],[["default"],[[[[1,"    "],[1,[28,[35,3],["far-smile"],null]],[1,"\\n    "],[10,1],[12],[1,[28,[35,4],["discourse_reactions.reactions_title"],null]],[13],[1,"\\n"]],[]]]]]],[]],null]],[],false,["if","siteSettings","link-to","d-icon","i18n"]]',moduleName:"discourse/plugins/discourse-reactions/discourse/templates/connectors/user-notifications-bottom/discourse-reactions-user-notification-reactions.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-reactions/discourse/templates/user-activity-reactions",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createTemplateFactory)({id:"DPghUyaF",block:'[[[6,[39,0],null,[["selector","action"],[".user-stream-item",[28,[37,1],[[30,0],"loadMore"],null]]],[["default"],[[[[1,"  "],[10,0],[14,0,"user-stream"],[12],[1,"\\n"],[42,[28,[37,3],[[28,[37,3],[[33,4]],null]],null],null,[[[1,"      "],[1,[28,[35,5],null,[["reaction"],[[30,1]]]]],[1,"\\n"]],[1]],[[[1,"      "],[10,0],[14,0,"alert alert-info"],[12],[1,[28,[35,6],["notifications.empty"],null]],[13],[1,"\\n"]],[]]],[1,"  "],[13],[1,"\\n\\n  "],[1,[28,[35,7],null,[["condition"],[[33,8]]]]],[1,"\\n"]],[]]]]]],["reaction"],false,["load-more","action","each","-track-array","model","discourse-reactions-reaction-post","i18n","conditional-loading-spinner","loading"]]',moduleName:"discourse/plugins/discourse-reactions/discourse/templates/user-activity-reactions.hbs",isStrictMode:!1})
e.default=s})),define("discourse/plugins/discourse-reactions/discourse/widgets/discourse-reactions-actions",["exports","@popperjs/core","discourse/lib/text","rsvp","@ember/runloop","discourse/widgets/widget","discourse/plugins/discourse-reactions/discourse/models/discourse-reactions-custom-reaction","discourse-common/config/environment","I18n"],(function(e,t,s,i,o,r,n,a,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.resetCurrentReaction=function(){d=null}
let u,d
function l(e,t,i,o,r){if((0,a.isTesting)())return
const n=function(e){const t=document.createElement("img")
return t.src=(0,s.emojiUrlFor)(e),t.classList.add("btn-toggle-reaction-emoji","reaction-button","fake-reaction"),t}(t)
e.querySelector(".reaction-button").appendChild(n)
n.style.top=i,n.style.opacity=0,$(n).animate({top:o,opacity:1},{duration:350,complete:()=>{n.remove(),r()}},"swing")}function p(e,t,s,i){return(0,a.isTesting)()?(0,o.run)(this,i):$(e).stop().css("textIndent",t).animate({textIndent:s},{complete:i,step(e){$(this).css("transform","scale(".concat(e,")")).addClass("far-heart").removeClass("heart")},duration:150},"linear")}var h=(0,r.createWidget)("discourse-reactions-actions",{tagName:"div.discourse-reactions-actions",services:["dialog"],defaultState:()=>({reactionsPickerExpanded:!1}),buildKey:e=>"discourse-reactions-actions-".concat(e.post.id,"-").concat(e.position||"right"),buildClasses(e){var t
if(!e.post.reactions)return
const s=e.post,i=s.reactions.length,o=s.current_user_reaction,r=[]
return s.reactions.length&&s.reactions.filter((e=>e.id!==this.siteSettings.discourse_reactions_reaction_for_like)).length&&r.push("custom-reaction-used"),s.yours&&r.push("my-post"),i&&r.push("has-reactions"),o&&r.push("has-reacted"),s.current_user_used_main_reaction&&r.push("has-used-main-reaction"),s.current_user_reaction&&!s.current_user_reaction.can_undo||null===(t=s.likeAction)||void 0===t||!t.canToggle||r.push("can-toggle-reaction"),r},toggleReactions(e){this.state.reactionsPickerExpanded||(this.state.statePanelExpanded?this.scheduleExpand("expandReactionsPicker"):this.expandReactionsPicker(e))},touchStart(){if((0,o.cancel)(this._touchTimeout),this.capabilities.touch){var e
const t=document.getElementsByTagName("html")[0]
return null==t||null===(e=t.classList)||void 0===e||e.add("discourse-reactions-no-select"),this._touchStartAt=Date.now(),this._touchTimeout=(0,o.later)((()=>{this._touchStartAt=null,this.toggleReactions()}),400),!1}},touchEnd(e){(0,o.cancel)(this._touchTimeout)
const t=document.getElementsByTagName("html")[0]
if(t&&t.classList.remove("discourse-reactions-no-select"),this.capabilities.touch){if(e.originalEvent.changedTouches.length){const t=document.elementFromPoint(e.originalEvent.changedTouches[0].clientX,e.originalEvent.changedTouches[0].clientY)
if(t){const e=t.parentNode
if(t.classList.contains("pickable-reaction"))return void t.click()
if(e&&e.classList.contains("pickable-reaction"))return void e.click()}}const t=Date.now()-(this._touchStartAt||0)
this._touchStartAt=null,t>400?e.originalEvent&&e.originalEvent.target&&e.originalEvent.target.classList.contains("discourse-reactions-reaction-button")&&this.toggleReactions(e):e.target&&(e.target.classList.contains("discourse-reactions-reaction-button")||e.target.classList.contains("reaction-button"))&&this.toggleFromButton({reaction:this.attrs.post.current_user_reaction?this.attrs.post.current_user_reaction.id:this.siteSettings.discourse_reactions_reaction_for_like})}},toggle(e){if(!this.currentUser)return this.sendWidgetAction("showLogin")
if(!this.attrs.post.current_user_reaction||this.attrs.post.current_user_reaction.can_undo&&this.attrs.post.likeAction.canToggle){this.capabilities.canVibrate&&navigator.vibrate(5)
const t=document.querySelector('[data-post-id="'.concat(e.postId,'"] .discourse-reactions-picker .pickable-reaction.').concat(CSS.escape(e.reaction)," .emoji")),s=[1,1.75]
return new i.Promise((i=>{p(t,s[0],s[1],(()=>{p(t,s[1],s[0],(()=>{const t=this.attrs.post,s=document.querySelector('[data-post-id="'.concat(e.postId,'"]'))
var r,a
t.current_user_reaction&&t.current_user_reaction.id===e.reaction?(this.toggleReaction(e),(0,o.later)((()=>{var o,r
o=s,r=e.reaction,l(o,r,"8px","42px",(()=>n.default.toggle(this.attrs.post,e.reaction).then(i).catch((e=>{this.dialog.alert(this._extractErrors(e)),this._rollbackState(t)}))))}),100)):(r=s,a=e.reaction,l(r,a,"-50px","8px",(()=>{this.toggleReaction(e),n.default.toggle(this.attrs.post,e.reaction).then(i).catch((e=>{this.dialog.alert(this._extractErrors(e)),this._rollbackState(t)}))})))}))}))})).finally((()=>{this.collapseAllPanels(),this.scheduleRerender()}))}},toggleReaction(e){if(this.collapseAllPanels(),this.attrs.post.current_user_reaction&&!this.attrs.post.current_user_reaction.can_undo&&!this.attrs.post.likeAction.canToggle)return
const t=this.attrs.post
if(t.current_user_reaction&&t.reactions.every(((e,s)=>e.count<=1&&e.id===t.current_user_reaction.id?(t.reactions.splice(s,1),!1):e.id!==t.current_user_reaction.id||(t.reactions[s].count-=1,!1))),!e.reaction||t.current_user_reaction&&e.reaction===t.current_user_reaction.id)t.reaction_users_count-=1,t.current_user_reaction=null
else{let s=!1
if(t.reactions.every(((i,o)=>i.id!==e.reaction||(t.reactions[o].count+=1,s=!0,!1))),!s){const s={id:e.reaction,type:"emoji",count:1},i=Object.assign([],t.reactions)
i.push(s)
const o=i.sort(((e,t)=>e.count>t.count?-1:e.count<t.count||e.id>t.id?1:e.id<t.id?-1:void 0)).indexOf(s)
t.reactions.splice(o,0,s)}t.current_user_reaction||(t.reaction_users_count+=1),t.current_user_reaction={id:e.reaction,type:"emoji",can_undo:!0}}t.current_user_reaction&&t.current_user_reaction.id===this.siteSettings.discourse_reactions_reaction_for_like?t.current_user_used_main_reaction=!0:t.current_user_used_main_reaction=!1},toggleFromButton(e){if(!this.currentUser)return this.sendWidgetAction("showLogin")
this.collapseAllPanels()
const t=this.siteSettings.discourse_reactions_reaction_for_like,s=this.attrs.post,o=s.current_user_reaction
if(s.likeAction&&!s.likeAction.canToggle&&!s.likeAction.can_undo)return
if(this.attrs.post.current_user_reaction&&!this.attrs.post.current_user_reaction.can_undo)return
if(!this.currentUser||s.user_id===this.currentUser.id)return
if(this.capabilities.canVibrate&&navigator.vibrate(5),o&&o.id===e.reaction)return this.toggleReaction(e),n.default.toggle(this.attrs.post,e.reaction).catch((e=>{this.dialog.alert(this._extractErrors(e)),this._rollbackState(s)}))
let r
r=s.reactions&&1===s.reactions.length&&s.reactions[0].id===t?'[data-post-id="'.concat(this.attrs.post.id,'"] .discourse-reactions-double-button .discourse-reactions-reaction-button .d-icon'):e.reaction&&e.reaction!==t?'[data-post-id="'.concat(this.attrs.post.id,'"] .discourse-reactions-reaction-button .reaction-button .btn-toggle-reaction-emoji'):'[data-post-id="'.concat(this.attrs.post.id,'"] .discourse-reactions-reaction-button .d-icon')
const a=document.querySelector(r),c=[1,1.5]
return new i.Promise((i=>{p(a,c[0],c[1],(()=>{p(a,c[1],c[0],(()=>{this.toggleReaction(e)
let o=e.reaction&&e.reaction!==t?e.reaction:this.siteSettings.discourse_reactions_reaction_for_like
n.default.toggle(this.attrs.post,o).then(i).catch((e=>{this.dialog.alert(this._extractErrors(e)),this._rollbackState(s)}))}))}))}))},cancelCollapse(){(0,o.cancel)(this._collapseHandler)},cancelExpand(){(0,o.cancel)(this._expandHandler)},scheduleExpand(e){this.cancelExpand(),this._expandHandler=(0,o.later)(this,this[e],250)},scheduleCollapse(e){this.cancelCollapse(),this._collapseHandler=(0,o.later)(this,this[e],500)},buildId:e=>"discourse-reactions-actions-".concat(e.post.id,"-").concat(e.position||"right"),clickOutside(){(this.state.reactionsPickerExpanded||this.state.statePanelExpanded)&&this.collapseAllPanels()},expandReactionsPicker(){var e;(0,o.cancel)(this._collapseHandler),null===(e=d)||void 0===e||e.collapseAllPanels(),this.state.statePanelExpanded=!1,this.state.reactionsPickerExpanded=!0,this.scheduleRerender(),this._setupPopper([".discourse-reactions-reaction-button",".discourse-reactions-picker"])},expandStatePanel(){var e;(0,o.cancel)(this._collapseHandler),null===(e=d)||void 0===e||e.collapseAllPanels(),this.state.statePanelExpanded=!0,this.state.reactionsPickerExpanded=!1,this.scheduleRerender(),this._setupPopper([".discourse-reactions-counter",".discourse-reactions-state-panel"])},collapseStatePanel(){(0,o.cancel)(this._collapseHandler),this._collapseHandler=null,this.state.statePanelExpanded=!1,this.scheduleRerender()},collapseReactionsPicker(){(0,o.cancel)(this._collapseHandler),this._collapseHandler=null,this.state.reactionsPickerExpanded=!1,this.scheduleRerender()},collapseAllPanels(){(0,o.cancel)(this._collapseHandler),this._collapseHandler=null,this.state.statePanelExpanded=!1,this.state.reactionsPickerExpanded=!1,this.scheduleRerender()},updatePopperPosition(){var e
null===(e=u)||void 0===e||e.update()},html(e){const t=e.post,s=[],i=this.siteSettings.discourse_reactions_reaction_for_like,o=Object.assign({},e,{reactionsPickerExpanded:this.state.reactionsPickerExpanded,statePanelExpanded:this.state.statePanelExpanded})
return this.currentUser&&t.user_id!==this.currentUser.id&&s.push(this.attach("discourse-reactions-picker",o)),"left"===e.position?(s.push(this.attach("discourse-reactions-counter",o)),s):(t.reactions&&1===t.reactions.length&&t.reactions[0].id===i?s.push(this.attach("discourse-reactions-double-button",o)):this.site.mobileView?t.yours?t.yours&&t.reactions&&t.reactions.length&&s.push(this.attach("discourse-reactions-counter",o)):(s.push(this.attach("discourse-reactions-counter",o)),s.push(this.attach("discourse-reactions-reaction-button",o))):t.yours||s.push(this.attach("discourse-reactions-reaction-button",o)),s)},_setupPopper(e){(0,o.schedule)("afterRender",(()=>{var t
const s=this.attrs.position||"right",i=this.attrs.post.id,o=document.querySelector("#discourse-reactions-actions-".concat(i,"-").concat(s," ").concat(e[0])),r=document.querySelector("#discourse-reactions-actions-".concat(i,"-").concat(s," ").concat(e[1]))
null===(t=u)||void 0===t||t.destroy(),u=this._applyPopper(o,r),d=this}))},_applyPopper:(e,s)=>(0,t.createPopper)(e,s,{placement:"top",modifiers:[{name:"offset",options:{offset:[0,-5]}},{name:"preventOverflow",options:{padding:5}}]}),_rollbackState(e){const t=e.current_user_reaction,s=e.current_user_used_main_reaction,i=Object.assign([],e.reactions),o=e.reaction_users_count
e.current_user_reaction=t,e.current_user_used_main_reaction=s,e.reactions=i,e.reaction_users_count=o,this.scheduleRerender()},_extractErrors(e){const t=e.xhr||e.jqXHR
return t&&t.status?429===t.status&&t.responseJSON&&t.responseJSON.errors&&t.responseJSON.errors[0]?t.responseJSON.errors[0]:403===t.status?c.default.t("discourse_reactions.reaction.forbidden"):c.default.t("errors.desc.unknown"):c.default.t("errors.desc.network")}})
e.default=h})),define("discourse/plugins/discourse-reactions/discourse/widgets/discourse-reactions-counter",["exports","virtual-dom","discourse-common/lib/icon-library","discourse/widgets/widget","discourse/plugins/discourse-reactions/discourse/models/discourse-reactions-custom-reaction"],(function(e,t,s,i,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=(0,i.createWidget)("discourse-reactions-counter",{tagName:"div",buildKey:e=>"discourse-reactions-counter-".concat(e.post.id,"-").concat(e.position||"right"),buildId:e=>"discourse-reactions-counter-".concat(e.post.id,"-").concat(e.position||"right"),reactionsChanged(e){e.reactions.uniq().forEach((e=>{this.getUsers(e)}))},defaultState:()=>({reactionsUsers:{},statePanelExpanded:!1}),getUsers(e){return o.default.findReactionUsers(this.attrs.post.id,{reactionValue:e}).then((e=>{e.reaction_users.forEach((e=>{this.state.reactionsUsers[e.id]=e.users})),this.scheduleRerender(),this.callWidgetFunction("updatePopperPosition")}))},mouseDown:e=>(e.stopImmediatePropagation(),!1),mouseUp:e=>(e.stopImmediatePropagation(),!1),click(e){this.callWidgetFunction("cancelCollapse"),this.capabilities.touch&&this.site.mobileView||(e.stopPropagation(),e.preventDefault(),this.attrs.statePanelExpanded||this.getUsers(),this.toggleStatePanel(e))},clickOutside(){this.attrs.statePanelExpanded&&this.callWidgetFunction("collapseAllPanels")},touchStart(e){return this.callWidgetFunction("cancelCollapse"),!(!e.target.classList.contains("show-users")&&!e.target.classList.contains("avatar"))||(this.attrs.statePanelExpanded?(e.stopPropagation(),void e.preventDefault()):void(this.capabilities.touch&&(e.stopPropagation(),e.preventDefault(),this.getUsers(),this.toggleStatePanel(e))))},buildClasses(e){const t=[],s=this.siteSettings.discourse_reactions_reaction_for_like
return e.post.reactions&&1===e.post.reactions.length&&e.post.reactions[0].id===s&&t.push("only-like"),e.post.reaction_users_count>0&&t.push("discourse-reactions-counter"),t},html(e){if(e.post.reaction_users_count){const i=e.post,o=i.reaction_users_count
if(o<=0)return
const r=this.siteSettings.discourse_reactions_reaction_for_like,n=this.siteSettings.discourse_reactions_like_icon,a=[]
return a.push(this.attach("discourse-reactions-state-panel",Object.assign({},e,{reactionsUsers:this.state.reactionsUsers}))),1===i.reactions.length&&i.reactions[0].id===r||a.push(this.attach("discourse-reactions-list",{reactionsUsers:this.state.reactionsUsers,post:e.post})),a.push((0,t.h)("span.reactions-counter",o.toString())),i.yours&&i.reactions&&1===i.reactions.length&&i.reactions[0].id===r&&a.push((0,t.h)("div.discourse-reactions-reaction-button.my-likes",(0,t.h)("button.btn-toggle-reaction-like.btn-icon.no-text.reaction-button",[(0,s.iconNode)("".concat(n))]))),a}},toggleStatePanel(){this.attrs.statePanelExpanded?this.callWidgetFunction("collapseStatePanel"):this.callWidgetFunction("expandStatePanel")},mouseOver(){this.callWidgetFunction("cancelCollapse")},mouseOut(e){var t
null!==(t=e.relatedTarget)&&void 0!==t&&t.closest("#".concat(this.buildId(this.attrs)))||this.callWidgetFunction("scheduleCollapse","collapseStatePanel")}})
e.default=r})),define("discourse/plugins/discourse-reactions/discourse/widgets/discourse-reactions-double-button",["exports","discourse/widgets/widget"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=(0,t.createWidget)("discourse-reactions-double-button",{tagName:"div.discourse-reactions-double-button",buildKey:e=>"discourse-reactions-double-button-".concat(e.post.id),html(e){const t=[]
return e.post.reaction_users_count>0&&t.push(this.attach("discourse-reactions-counter",e)),e.post.yours||t.push(this.attach("discourse-reactions-reaction-button",e)),t}})
e.default=s})),define("discourse/plugins/discourse-reactions/discourse/widgets/discourse-reactions-list-emoji",["exports","@popperjs/core","virtual-dom","discourse/widgets/raw-html","discourse/lib/text","discourse/widgets/widget","@ember/runloop","I18n"],(function(e,t,s,i,o,r,n,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c
var u=(0,r.createWidget)("discourse-reactions-list-emoji",{tagName:"div.discourse-reactions-list-emoji",buildId:e=>"discourse-reactions-list-emoji-".concat(e.post.id,"-").concat(e.reaction.id),mouseOver(){var e
window.matchMedia("(hover: none)").matches||(this._setupPopper(".user-list"),null!==(e=this.attrs.users)&&void 0!==e&&e.length||this.callWidgetFunction("getUsers",this.attrs.reaction.id))},html(e){if(e.reaction.count<=0)return
const t=e.reaction,r=e.users||[],n=[(0,s.h)("span.heading",e.reaction.id)]
r.length?(r.slice(0,19).forEach((e=>{let t
t=this.siteSettings.prioritize_username_in_ux?e.username:e.name?e.name:e.username,n.push((0,s.h)("span.username",t))})),e.reaction.count>19&&n.push((0,s.h)("span.other-users",a.default.t("discourse_reactions.state_panel.more_users",{count:e.reaction.count-19})))):n.push((0,s.h)("div.center",(0,s.h)("div.spinner.small")))
const c=[new i.default({html:(0,o.emojiUnescape)(":".concat(t.id,":"),{skipTitle:!0,class:this.siteSettings.discourse_reactions_desaturated_reaction_panel?"desaturated":""})})]
return window.matchMedia("(hover: none)").matches||c.push((0,s.h)("div.user-list",(0,s.h)("div.container",n))),c},_setupPopper(e){(0,n.schedule)("afterRender",(()=>{const s=CSS.escape(this.buildId(this.attrs)),i=document.querySelector("#".concat(s)),o=document.querySelector("#".concat(s," ").concat(e))
o&&(c&&c.destroy(),c=(0,t.createPopper)(i,o,{placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,-5]}},{name:"preventOverflow",options:{padding:5}}]}))}))}})
e.default=u})),define("discourse/plugins/discourse-reactions/discourse/widgets/discourse-reactions-list",["exports","virtual-dom","discourse/widgets/widget"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=(0,s.createWidget)("discourse-reactions-list",{tagName:"div.discourse-reactions-list",html(e){if(!(e.post.reaction_users_count<=0))return[(0,t.h)("div.reactions",e.post.reactions.map((t=>this.attach("discourse-reactions-list-emoji",{reaction:t,users:e.reactionsUsers[t.id],post:e.post}))))]}})
e.default=i})),define("discourse/plugins/discourse-reactions/discourse/widgets/discourse-reactions-picker",["exports","discourse/widgets/raw-html","discourse/lib/text","virtual-dom","discourse/widgets/widget"],(function(e,t,s,i,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=(0,o.createWidget)("discourse-reactions-picker",{tagName:"div.discourse-reactions-picker",buildKey:e=>"discourse-reactions-picker-".concat(e.post.id),buildClasses(e){const t=[]
return e.reactionsPickerExpanded&&t.push("is-expanded"),t},mouseOut(){window.matchMedia("(hover: none)").matches||this.callWidgetFunction("scheduleCollapse","collapseReactionsPicker")},mouseOver(){window.matchMedia("(hover: none)").matches||this.callWidgetFunction("cancelCollapse")},html(e){if(e.reactionsPickerExpanded){const o=this.siteSettings.discourse_reactions_enabled_reactions.split("|").filter(Boolean)
o.includes(this.siteSettings.discourse_reactions_reaction_for_like)||o.unshift(this.siteSettings.discourse_reactions_reaction_for_like)
const r=e.post.current_user_reaction
return[(0,i.h)("div.discourse-reactions-picker-container.col-".concat(this._getOptimalColsCount(o.length)),o.map((i=>{let o,n,a,c
return o=i===this.siteSettings.discourse_reactions_reaction_for_like?e.post.current_user_used_main_reaction:r&&r.id===i,n=r?r.can_undo&&e.post.likeAction.canToggle:e.post.likeAction.canToggle,n?(a="discourse_reactions.picker.react_with",c={reaction:i}):a="discourse_reactions.picker.cant_remove_reaction",this.attach("button",{action:"toggle",data:{reaction:i},actionParam:{reaction:i,postId:e.post.id,canUndo:n},className:"pickable-reaction ".concat(i," ").concat(n?"can-undo":""," ").concat(o?"is-used":""),title:a,titleOptions:c,contents:[new t.default({html:(0,s.emojiUnescape)(":".concat(i,":"))})]})})))]}},_getOptimalColsCount(e){let t
const s=[5,6,7,8]
if(e<s[0])return e
for(let i=0;i<s.length;++i){const o=s[i]
let r=e%o
if(0===r){t=o
break}(0===i||r>e%(o-1))&&(t=o)}return t}})
e.default=r})),define("discourse/plugins/discourse-reactions/discourse/widgets/discourse-reactions-reaction-button",["exports","@ember/utils","I18n","discourse-common/lib/icon-library","discourse/lib/text","virtual-dom","discourse/widgets/widget"],(function(e,t,s,i,o,r,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var a=(0,n.createWidget)("discourse-reactions-reaction-button",{tagName:"div.discourse-reactions-reaction-button",buildKey:e=>"discourse-reactions-reaction-button-".concat(e.post.id),click(){this.callWidgetFunction("cancelCollapse")
const e=this.attrs.post.current_user_reaction
this.capabilities.touch&&this.site.mobileView||this.callWidgetFunction("toggleFromButton",{reaction:e?e.id:this.siteSettings.discourse_reactions_reaction_for_like})},mouseOver(e){this.callWidgetFunction("cancelCollapse")
const s=this.attrs.post.likeAction,i=this.attrs.post.current_user_reaction;(!i||i.can_undo||s&&!(0,t.isBlank)(s.can_undo))&&(window.matchMedia("(hover: none)").matches||this.callWidgetFunction("toggleReactions",e))},mouseOut(){this.callWidgetFunction("cancelExpand"),window.matchMedia("(hover: none)").matches||this.callWidgetFunction("scheduleCollapse","collapseReactionsPicker")},buildAttributes(e){const i=e.post.likeAction
if(!i)return{}
let o,r
const n=this.attrs.post.current_user_reaction
return i.canToggle&&(0,t.isBlank)(i.can_undo)&&(o="discourse_reactions.main_reaction.add"),i.canToggle&&i.can_undo&&(o="discourse_reactions.main_reaction.remove"),i.canToggle||(o="discourse_reactions.main_reaction.cant_remove"),n&&n.can_undo&&(0,t.isBlank)(i.can_undo)&&(o="discourse_reactions.picker.remove_reaction",r={reaction:n.id}),n&&!n.can_undo&&(0,t.isBlank)(i.can_undo)&&(o="discourse_reactions.picker.cant_remove_reaction"),r?{title:s.default.t(o,r)}:{title:s.default.t(o)}},html(e){const t=this.siteSettings.discourse_reactions_like_icon,s=e.post.current_user_used_main_reaction,n=e.post.current_user_reaction
return s?(0,r.h)("button.btn-toggle-reaction-like.btn-icon.no-text.reaction-button",{title:this.buildAttributes(e).title},[(0,i.iconNode)(t)]):n?(0,r.h)("button.btn-icon.no-text.reaction-button",{title:this.buildAttributes(e).title},(0,r.h)("img.btn-toggle-reaction-emoji.reaction-button",{src:(0,o.emojiUrlFor)(n.id),alt:":".concat(n.id,":")})):(0,r.h)("button.btn-toggle-reaction-like.btn-icon.no-text.reaction-button",{title:this.buildAttributes(e).title},[(0,i.iconNode)("far-".concat(t))])}})
e.default=a})),define("discourse/plugins/discourse-reactions/discourse/widgets/discourse-reactions-reaction-notification-item",["discourse/widgets/widget","discourse/widgets/default-notification-item","discourse-common/lib/icon-library","discourse/lib/utilities","discourse/lib/url","I18n"],(function(e,t,s,i,o,r){"use strict";(0,e.createWidgetFrom)(t.DefaultNotificationItem,"reaction-notification-item",{notificationTitle:()=>r.default.t("notifications.titles.reaction"),icon(e){let t,i=this.attrs.data.reaction_icon
return t=i?(0,s.iconNode)(i):(0,s.iconNode)("notification.".concat(e)),t},text(e,t){const s=t.count,o=(0,i.formatUsername)(t.display_username)
if(t.username2){const e=s-2,n=0===e?"reaction_2":"reaction_many"
return r.default.t("notifications.".concat(n),{username:o,username2:(0,i.formatUsername)(t.username2),description:this.attrs.fancy_title,count:e})}return s&&1!==s?r.default.t("notifications.reaction.multiple",{username:(0,i.formatUsername)(t.display_username),count:s}):r.default.t("notifications.reaction.single",{username:(0,i.formatUsername)(t.display_username),description:this.attrs.fancy_title})},url(){const e=this.attrs.topic_id
if(e)return(0,i.postUrl)(this.attrs.slug,e,this.attrs.post_number)
{const e=this.attrs.data
let t="reactions-received"
return e.reaction_icon&&(t="likes-received"),(0,o.userPath)("".concat(this.currentUser.username,"/notifications/").concat(t,"?acting_username=").concat(e.display_username,"&include_likes=true"))}}})})),define("discourse/plugins/discourse-reactions/discourse/widgets/discourse-reactions-state-panel-reaction",["exports","I18n","discourse/widgets/raw-html","discourse/lib/text","virtual-dom","discourse/widgets/widget","discourse/widgets/post","discourse-common/lib/icon-library"],(function(e,t,s,i,o,r,n,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var c=(0,r.createWidget)("discourse-reactions-state-panel-reaction",{tagName:"div.discourse-reactions-state-panel-reaction",buildClasses(e){if(e.isDisplayed)return"is-displayed"},click(e){var t,s,i,o
null!=e&&null!==(t=e.target)&&void 0!==t&&null!==(s=t.classList)&&void 0!==s&&s.contains("show-users")&&(e.preventDefault(),e.stopPropagation(),this.sendWidgetAction("showUsers",null===(i=this.attrs)||void 0===i||null===(o=i.reaction)||void 0===o?void 0:o.id))},html(e){const r=[]
if(!e.users)return
r.push((0,o.h)("div.reaction-wrapper",[(0,o.h)("div.emoji-wrapper",[new s.default({html:(0,i.emojiUnescape)(":".concat(e.reaction.id,":"))})]),(0,o.h)("div.count",e.reaction.count.toString())]))
const c=e.users.slice(0,8),u=c.map((e=>(0,n.avatarFor)("tiny",{username:e.username,template:e.avatar_template})))
let d
e.users.length>8&&u.push((0,o.h)("button.show-users",(0,a.iconNode)(e.isDisplayed?"chevron-up":"chevron-down"))),e.isDisplayed&&u.push(e.users.slice(8,26).map((e=>(0,n.avatarFor)("tiny",{username:e.username,template:e.avatar_template})))),e.isDisplayed&&e.reaction.count>26&&(d=t.default.t("discourse_reactions.state_panel.more_users",{count:e.reaction.count-26}))
const l=e.users.length>8?c.length+1:c.length
return r.push((0,o.h)("div.users",[(0,o.h)("div.list.list-columns-".concat(l),u),(0,o.h)("span.more",d)])),r}})
e.default=c})),define("discourse/plugins/discourse-reactions/discourse/widgets/discourse-reactions-state-panel",["exports","virtual-dom","discourse/widgets/widget"],(function(e,t,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=(0,s.createWidget)("discourse-reactions-state-panel",{tagName:"div.discourse-reactions-state-panel",buildKey:e=>"discourse-reactions-state-panel-".concat(e.post.id),buildClasses(e){const t=[]
if(e.post&&e.post.reactions){const s=Math.max(...e.post.reactions.mapBy("count")).toString().length
t.push("max-length-".concat(s))}return e.statePanelExpanded&&t.push("is-expanded"),t},mouseOut(){window.matchMedia("(hover: none)").matches||this.callWidgetFunction("scheduleCollapse","collapseStatePanel")},mouseOver(){window.matchMedia("(hover: none)").matches||this.callWidgetFunction("cancelCollapse")},showUsers(e){this.state.displayedReactionId?this.state.displayedReactionId===e?this.hideUsers():this.state.displayedReactionId!==e&&(this.state.displayedReactionId=e):this.state.displayedReactionId=e},hideUsers(){this.state.displayedReactionId=null},defaultState:()=>({displayedReactionId:null}),html(e){if(!e.statePanelExpanded||!e.post.reactions.length)return
const s=Object.keys(e.reactionsUsers).length?(0,t.h)("div.counters",e.post.reactions.map((t=>this.attach("discourse-reactions-state-panel-reaction",{reaction:t,users:e.reactionsUsers[t.id],post:e.post,isDisplayed:t.id===this.state.displayedReactionId})))):(0,t.h)("div.spinner-container",(0,t.h)("div.spinner.small"))
return(0,t.h)("div.container",s)}})
e.default=i})),define("discourse/plugins/discourse-reactions/initializers/discourse-reactions",["exports","discourse/plugins/discourse-reactions/discourse/widgets/discourse-reactions-actions","discourse/lib/plugin-api","discourse-common/lib/icon-library","discourse/lib/text","discourse/lib/url","discourse/lib/utilities","I18n"],(function(e,t,s,i,o,r,n,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c="discourse-reactions"
function u(e){e.removePostMenuButton("like"),e.addKeyboardShortcut("l",null,{click:".topic-post.selected .discourse-reactions-reaction-button"}),e.decorateWidget("post-menu:before-extra-controls",(e=>{const t=e.getModel()
if(t&&!t.deleted_at)return e.attach("discourse-reactions-actions",{post:t})})),e.modifyClass("component:scrolling-post-stream",{pluginId:c,didInsertElement(){var e,t
this._super(...arguments)
const s=null==this||null===(e=this.posts)||void 0===e||null===(t=e.firstObject)||void 0===t?void 0:t.topic_id
s&&this.messageBus.subscribe("/topic/".concat(s,"/reactions"),(e=>{this.dirtyKeys.keyDirty("discourse-reactions-counter-".concat(e.post_id),{onRefresh:"reactionsChanged",refreshArg:e}),this._refresh({id:e.post_id})}))}}),e.modifyClass("controller:topic",{pluginId:c,unsubscribe(){this._super(...arguments)
const e=this.model.id
e&&this.messageBus.unsubscribe("/topic/".concat(e,"/reactions"))}}),e.decorateWidget("post-menu:extra-post-controls",(e=>{if(e.widget.site.mobileView)return
const t=e.widget.siteSettings.discourse_reactions_reaction_for_like,s=e.getModel()
return!s||s.deleted_at||s.reactions&&1===s.reactions.length&&s.reactions[0].id===t?void 0:e.attach("discourse-reactions-actions",{post:s,position:"left"})})),e.modifyClass("component:emoji-value-list",{pluginId:c,didReceiveAttrs(){if(this._super(...arguments),"discourse_reactions_enabled_reactions"!==this.setting.setting)return
if(this.values.includes(this.siteSettings.discourse_reactions_reaction_for_like)){const e=this.collection.findBy("value",this.siteSettings.discourse_reactions_reaction_for_like)
e&&(e.isEditable=!1)}else this.collection.unshiftObject({emojiUrl:(0,o.emojiUrlFor)(this.siteSettings.discourse_reactions_reaction_for_like),isEditable:!1,isEditing:!1,value:this.siteSettings.discourse_reactions_reaction_for_like})}},{ignoreMissing:!0}),e.replaceIcon("notification.reaction","discourse-emojis"),e.registerNotificationTypeRenderer&&e.registerNotificationTypeRenderer("reaction",(e=>class extends e{get linkTitle(){return a.default.t("notifications.titles.reaction")}get linkHref(){const e=super.linkHref
if(e)return e
let t="reactions-received"
return this.notification.data.reaction_icon&&(t="likes-received"),(0,r.userPath)("".concat(this.currentUser.username,"/notifications/").concat(t,"?acting_username=").concat(this.notification.data.display_username,"&include_likes=true"))}get icon(){return this.notification.data.reaction_icon||"notification.".concat(this.notificationName)}get label(){const e=this.notification.data.count,t=this.username
return e&&1!==e&&this.notification.data.username2?e>2?a.default.t("notifications.reaction_2_users_with_others",{username:t,username2:(0,n.formatUsername)(this.notification.data.username2),count:e-2}):a.default.t("notifications.reaction_2_users",{username:t,username2:(0,n.formatUsername)(this.notification.data.username2)}):t}get labelClasses(){if(this.notification.data.username2)return this.notification.data.count>2?["multi-user"]:["double-user"]}get description(){return this.notification.data.count>1&&!this.notification.data.username2?a.default.t("notifications.reaction_1_user_multiple_posts",{count:this.notification.data.count}):super.description}}))}(0,i.replaceIcon)("notification.reaction","bell")
var d={name:"discourse-reactions",initialize(e){e.lookup("site-settings:main").discourse_reactions_enabled&&(0,s.withPluginApi)("0.10.1",u)},teardown(){(0,t.resetCurrentReaction)()}}
e.default=d}))

//# sourceMappingURL=discourse-reactions-9c9ad34dc538b476851da5ee65e91372556a1d51d941aac867de487b23c28e92.map
//!

;
